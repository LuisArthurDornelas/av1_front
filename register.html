<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Cadastro de Clientes</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <img src="images/logo.png" alt="Logo da Empresa" />
      <h1>Cadastro de Clientes</h1>
    </header>
    <main>
      <form id="registerForm" class="form-container">
        <label for="email">Email (Login):</label>
        <input type="email" id="email" name="email" required />
        <label for="password">Senha:</label>
        <input type="password" id="password" name="password" required />
        <label for="confirmPassword">Confirmação de Senha:</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          required
        />
        <p id="passwordRules">
          A senha deve ter pelo menos 6 caracteres, incluindo pelo menos um
          número, uma letra maiúscula e um dos seguintes caracteres especiais: @
          # $ % & * ! ? / \ | - _ + . =
        </p>
        <label for="name">Nome:</label>
        <input type="text" id="name" name="name" required />
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" required />
        <label for="birthdate">Data de Nascimento:</label>
        <input type="date" id="birthdate" name="birthdate" required />
        <label for="phone">Telefone (WhatsApp):</label>
        <input type="tel" id="phone" name="phone" />
        <label for="maritalStatus">Estado Civil:</label>
        <select id="maritalStatus" name="maritalStatus">
          <option value="solteiro(a)">Solteiro(a)</option>
          <option value="casado(a)">Casado(a)</option>
          <option value="divorciado(a)">Divorciado(a)</option>
          <option value="viúvo(a)">Viúvo(a)</option>
        </select>
        <label for="education">Escolaridade:</label>
        <select id="education" name="education">
          <option value="1grau_incompleto">1º grau incompleto</option>
          <option value="1grau_completo">1º grau completo</option>
          <option value="2grau_completo">2º grau completo</option>
          <option value="nivel_superior">Nível superior</option>
          <option value="pos_graduado">Pós-graduado</option>
        </select>
        <button type="submit">Incluir</button>
        <button type="button" id="clearBtn">Limpar</button>
        <button type="button" id="backBtn">Voltar</button>
      </form>
    </main>
    <script>
      document
        .getElementById('registerForm')
        .addEventListener('submit', function (e) {
          e.preventDefault();
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
          const confirmPassword =
            document.getElementById('confirmPassword').value;
          const name = document.getElementById('name').value;
          const cpf = document.getElementById('cpf').value;
          const birthdate = document.getElementById('birthdate').value;

          if (!validateEmail(email)) {
            alert('Email inválido');
            return;
          }
          if (!validatePassword(password)) {
            alert(
              'A senha deve ter pelo menos 6 caracteres, incluindo pelo menos um número, uma letra maiúscula e um dos seguintes caracteres especiais: @ # $ % & * ! ? / \\ | - _ + . ='
            );
            return;
          }
          if (password !== confirmPassword) {
            alert('As senhas não coincidem');
            return;
          }
          // Adicionar outras validações conforme necessário

          alert('Validação realizada com sucesso');
          // Adicionar lógica para enviar o formulário
        });

      document
        .getElementById('clearBtn')
        .addEventListener('click', function () {
          document.getElementById('registerForm').reset();
          document.getElementById('email').focus();
        });

      document.getElementById('backBtn').addEventListener('click', function () {
        window.history.back();
      });

      function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(String(email).toLowerCase());
      }

      function validatePassword(password) {
        const minLength = 6;
        const hasNumber = /[0-9]/;
        const hasUpperCase = /[A-Z]/;
        const hasSpecialChar = /[@#$%&*!?/\\|\\-_+=.]/;
        const noInvalidChar = /^[^\¨{}[\]´`~^:;<>,"']*$/;
        return (
          password.length >= minLength &&
          hasNumber.test(password) &&
          hasUpperCase.test(password) &&
          hasSpecialChar.test(password) &&
          noInvalidChar.test(password)
        );
      }
    </script>
  </body>
</html>
